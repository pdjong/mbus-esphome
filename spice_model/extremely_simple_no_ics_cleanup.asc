Version 4
SHEET 1 1852 680
WIRE 1232 -432 1056 -432
WIRE 1232 -400 1232 -432
WIRE 1472 -368 1312 -368
WIRE 1312 -336 1312 -368
WIRE 1312 -336 1280 -336
WIRE 1472 -336 1472 -368
WIRE 1280 -304 1280 -336
WIRE -16 -288 -16 -320
WIRE 448 -240 368 -240
WIRE 528 -240 448 -240
WIRE 624 -240 528 -240
WIRE 912 -240 624 -240
WIRE 1280 -224 1280 -256
WIRE 1472 -224 1472 -256
WIRE 1472 -224 1280 -224
WIRE -240 -192 -592 -192
WIRE -160 -192 -240 -192
WIRE -144 -192 -160 -192
WIRE 144 -192 144 -320
WIRE 912 -192 912 -240
WIRE 1056 -192 1056 -432
WIRE 1056 -192 912 -192
WIRE 1088 -192 1056 -192
WIRE 1376 -192 1312 -192
WIRE -16 -176 -16 -208
WIRE 912 -176 912 -192
WIRE 1376 -176 1376 -192
WIRE -144 -144 -144 -192
WIRE 528 -144 528 -240
WIRE 624 -144 624 -240
WIRE 1312 -144 1312 -192
WIRE -496 -96 -544 -96
WIRE -240 -96 -240 -192
WIRE -240 -96 -272 -96
WIRE 912 -80 912 -96
WIRE 1056 -80 912 -80
WIRE 1088 -80 1056 -80
WIRE -544 -64 -544 -96
WIRE 144 -64 144 -112
WIRE 224 -64 144 -64
WIRE 368 -64 368 -240
WIRE 368 -64 288 -64
WIRE 528 -48 528 -80
WIRE 1056 -48 1056 -80
WIRE 1232 -48 1232 -240
WIRE 1232 -48 1056 -48
WIRE -496 -32 -528 -32
WIRE -144 -32 -144 -64
WIRE -144 -32 -272 -32
WIRE 1312 -32 1312 -64
WIRE 144 -16 144 -64
WIRE 912 -16 912 -80
WIRE 368 0 368 -64
WIRE -608 32 -624 32
WIRE -496 32 -608 32
WIRE -240 32 -272 32
WIRE -144 32 -144 -32
WIRE -16 32 -64 32
WIRE 80 32 64 32
WIRE 528 32 528 16
WIRE 624 32 624 -64
WIRE 624 32 528 32
WIRE 720 32 624 32
WIRE 816 32 800 32
WIRE 848 32 816 32
WIRE 528 48 528 32
WIRE 1312 80 1312 48
WIRE 1472 80 1312 80
WIRE -592 96 -592 -192
WIRE -496 96 -592 96
WIRE 1312 96 1312 80
WIRE 912 144 912 80
WIRE 1248 144 912 144
WIRE -528 160 -528 -32
WIRE -384 160 -528 160
WIRE -240 160 -240 32
WIRE -240 160 -384 160
WIRE 144 160 144 80
WIRE 368 160 368 64
WIRE 528 160 528 112
WIRE 912 160 912 144
WIRE 816 176 816 32
WIRE -608 208 -608 32
WIRE -64 208 -64 32
WIRE -64 208 -608 208
WIRE 480 224 432 224
WIRE 608 224 480 224
WIRE 640 224 608 224
WIRE 752 224 720 224
WIRE 480 256 480 224
WIRE 912 256 912 240
WIRE 1312 256 1312 192
WIRE -384 272 -384 160
WIRE -144 272 -144 112
WIRE -144 272 -384 272
WIRE -384 304 -384 272
WIRE 608 304 608 224
WIRE 480 352 480 336
WIRE 608 416 608 384
WIRE 816 416 816 272
WIRE -384 432 -384 368
FLAG 144 160 0
FLAG 368 160 0
FLAG 528 160 0
FLAG 448 -240 36V
FLAG -16 -176 0
FLAG 912 256 0
FLAG 1088 -192 MBUS+
FLAG 1088 -80 MBUS-
FLAG 480 352 0
FLAG 608 416 0
FLAG 816 416 0
FLAG 1312 256 0
FLAG 1376 -176 0
FLAG 1472 80 RX
IOPIN 1472 80 Out
FLAG 1472 -224 slave_writes
FLAG 432 224 TX
FLAG -384 432 0
FLAG -544 -64 0
FLAG -624 32 osc_555
FLAG -16 -320 5V
FLAG 144 -320 5V
FLAG -160 -192 5V
SYMBOL ind 128 -208 R0
SYMATTR InstName L1
SYMATTR Value 1m
SYMATTR SpiceLine Ipk=485m Rser=2.7 Rpar=1.11693e+06 Cpar=0
SYMBOL npn 80 -16 R0
SYMATTR InstName Q1
SYMATTR Value 2N2222
SYMBOL res 80 16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 470
SYMATTR SpiceLine tol=1 pwr=.25
SYMBOL diode 224 -48 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL cap 352 0 R0
SYMATTR InstName C1
SYMATTR Value 4.7µ
SYMATTR SpiceLine V=100 Irms=0 Rser=0 Lser=0 mfg="Murata" pn="GRM31CZ72A475ME11" type="X7R"
SYMBOL zener 544 112 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMATTR Value BZX84C12L
SYMBOL zener 544 16 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D3
SYMATTR Value BZX84C12L
SYMBOL zener 544 -80 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D4
SYMATTR Value BZX84C12L
SYMBOL voltage -16 -304 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 5
SYMBOL res 608 -160 R0
SYMATTR InstName R2
SYMATTR Value 47k
SYMATTR SpiceLine tol=1 pwr=.25
SYMBOL res 816 16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 22k
SYMATTR SpiceLine tol=1 pwr=.25
SYMBOL pnp2 848 80 M180
SYMATTR InstName Q2
SYMATTR Value 2N3906
SYMBOL res 896 -192 R0
SYMATTR InstName R4
SYMATTR Value 220k
SYMBOL res 896 144 R0
SYMATTR InstName R5
SYMATTR Value 330
SYMBOL npn 752 176 R0
SYMATTR InstName Q3
SYMATTR Value 2N2222
SYMBOL res 592 288 R0
SYMATTR InstName R6
SYMATTR Value 4.7k
SYMBOL res 736 208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 15k
SYMBOL voltage 480 240 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value PULSE(3.3 0 10m .001m .001m 2m 4m 3)
SYMBOL npn 1248 96 R0
SYMATTR InstName Q4
SYMATTR Value 2N3904
SYMBOL voltage 1312 -48 R180
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value 3.3
SYMBOL res 1296 -48 R0
SYMATTR InstName R10
SYMATTR Value 1k
SYMBOL sw 1232 -336 M0
SYMATTR InstName S1
SYMATTR Value MYSWITCH
SYMBOL res 1216 -416 R0
SYMATTR InstName R8
SYMATTR Value 1.8k
SYMBOL voltage 1472 -240 R180
WINDOW 0 24 96 Left 2
WINDOW 3 24 16 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value PULSE(0 5 50m .001m .001m 2m 4m 3)
SYMBOL Misc\\NE555 -384 0 R0
SYMATTR InstName U1
SYMBOL cap -400 304 R0
SYMATTR InstName C2
SYMATTR Value 10nf
SYMBOL res -128 128 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R11
SYMATTR Value 1k
SYMBOL res -128 -48 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R12
SYMATTR Value 6.8k
TEXT -232 416 Left 2 !.model MYSWITCH SW (Ron=1 Roff=1MEG Vt=1 Vh=0.5)
TEXT 72 360 Left 2 !.tran .07 startup
